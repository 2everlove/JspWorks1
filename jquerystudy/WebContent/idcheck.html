<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ID 중복 검사</title>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script>
	function idCheck(){
	    var t_id = $("#t_id").val(); //입력상자의 ID값
	    if(t_id==""){
		    alert('ID를 입력해주세요.');
		    return false;
	    }
	    $.ajax({
			type: "post",
			dataType: "text",
			async: false, //async x
			url: "http://localhost:8081/jquerystudy/idcheck",
			data:{id: t_id}, //id를 서블릿에 보냄
			success:function(data, textStatus){
			    if(data=="usable"){
					$(message).text("아이디를 사용할 수 있습니다.").css("color","green");
			    } else {
					$(message).text("아이디를 사용할 수 없습니다.").css("color","red");
			    }
			},
			error:function(data, textStatus){
			    alert('Error'+data, textStatus);
			}
	    });//ajax닫기
	}
</script>
</head>
<body>
	<p><input type="text" id="t_id"></p>
	<p><input type="button" value="ID중복검사" onclick="idCheck()"></p>
	<div id="message"></div>
	
</body>
</html>